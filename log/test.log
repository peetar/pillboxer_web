  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "compartment_medications"[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "compartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar, "time_of_day" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_day_of_week" ON "compartments" ("day_of_week")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_compartments_on_pillbox_id_and_position" ON "compartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_pillbox_id" ON "compartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_time_of_day" ON "compartments" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6), "taken" boolean DEFAULT 0, "notes" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text, "active" boolean DEFAULT 1, "color" varchar, "shape" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_active" ON "medications" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_name" ON "medications" ("name")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id_and_name" ON "medications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id" ON "medications" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "pillboxes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer, "last_filled_at" datetime(6), "notes" text)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedule_medications"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_active" ON "schedules" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_schedule_type" ON "schedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id_and_name" ON "schedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id" ON "schedules" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" text NOT NULL, "email" text NOT NULL, "password_digest" text NOT NULL, "active" boolean DEFAULT 1, "last_login_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_active" ON "users" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_medication_id" ON "acompartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_compartment_id" ON "acompartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tidx_on_compartment_id_medication_id_b736fccacb" ON "acompartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "compartment_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_739347db2e"
FOREIGN KEY ("compartment_id")
  REFERENCES "compartments" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "compartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "acompartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartment_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_medication_id" ON "acompartment_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_compartment_id" ON "acompartment_medications" ("compartment_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tidx_on_compartment_id_medication_id_b736fccacb" ON "acompartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "acompartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_739347db2e"
FOREIGN KEY ("compartment_id")
  REFERENCES "compartments" ("id")
, CONSTRAINT "fk_rails_c1d326576d"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "compartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "acompartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartment_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar DEFAULT NULL, "time_of_day" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_time_of_day" ON "acompartments" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_pillbox_id" ON "acompartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_acompartments_on_pillbox_id_and_position" ON "acompartments" ("pillbox_id", "position")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_day_of_week" ON "acompartments" ("day_of_week")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartments" ("id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at")
                     SELECT "id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at" FROM "compartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "compartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar DEFAULT NULL, "time_of_day" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8881a5c790"
FOREIGN KEY ("pillbox_id")
  REFERENCES "pillboxes" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_day_of_week" ON "compartments" ("day_of_week")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_compartments_on_pillbox_id_and_position" ON "compartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_pillbox_id" ON "compartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_time_of_day" ON "compartments" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "compartments" ("id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at")
                     SELECT "id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at" FROM "acompartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id" ON "amedication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id_and_taken_at" ON "amedication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_taken" ON "amedication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_scheduled_for" ON "amedication_logs" ("scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id" ON "amedication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id_and_scheduled_for" ON "amedication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "medication_logs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_67d77b7bd2"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "medication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "amedication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedication_logs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id" ON "amedication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id_and_taken_at" ON "amedication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_taken" ON "amedication_logs" ("taken")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_scheduled_for" ON "amedication_logs" ("scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id" ON "amedication_logs" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id_and_scheduled_for" ON "amedication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_67d77b7bd2"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
, CONSTRAINT "fk_rails_5c0306f23a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "medication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "amedication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedication_logs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text DEFAULT NULL, "active" boolean DEFAULT 1, "color" varchar DEFAULT NULL, "shape" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_user_id" ON "amedications" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_user_id_and_name" ON "amedications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_name" ON "amedications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_active" ON "amedications" ("active")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedications" ("id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id")
                     SELECT "id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id" FROM "medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text DEFAULT NULL, "active" boolean DEFAULT 1, "color" varchar DEFAULT NULL, "shape" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_fc718069ca"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_active" ON "medications" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_name" ON "medications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id_and_name" ON "medications" ("user_id", "name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id" ON "medications" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "medications" ("id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id")
                     SELECT "id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id" FROM "amedications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_week_starting" ON "apillboxes" ("week_starting")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id" ON "apillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id_and_name" ON "apillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_schedule_id" ON "apillboxes" ("schedule_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_pillbox_type" ON "apillboxes" ("pillbox_type")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "apillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL, CONSTRAINT "fk_rails_88926a3124"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "pillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "apillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apillboxes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_week_starting" ON "apillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id" ON "apillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id_and_name" ON "apillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_schedule_id" ON "apillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_pillbox_type" ON "apillboxes" ("pillbox_type")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "apillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL, CONSTRAINT "fk_rails_88926a3124"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
, CONSTRAINT "fk_rails_cfea36d6b8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "pillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "apillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apillboxes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_time_of_day" ON "aschedule_medications" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id" ON "aschedule_medications" ("schedule_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id_and_medication_id" ON "aschedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_medication_id" ON "aschedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aschedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3fc86c7904"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "aschedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedule_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_time_of_day" ON "aschedule_medications" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id" ON "aschedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id_and_medication_id" ON "aschedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_medication_id" ON "aschedule_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3fc86c7904"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
, CONSTRAINT "fk_rails_4a1ae80248"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "aschedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedule_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_user_id" ON "aschedules" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_user_id_and_name" ON "aschedules" ("user_id", "name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_schedule_type" ON "aschedules" ("schedule_type")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_active" ON "aschedules" ("active")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedules" ("id","name","schedule_type","active","description","created_at","updated_at","user_id")
                     SELECT "id","name","schedule_type","active","description","created_at","updated_at","user_id" FROM "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_3c900465fa"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_active" ON "schedules" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_schedule_type" ON "schedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id_and_name" ON "schedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id" ON "schedules" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedules" ("id","name","schedule_type","active","description","created_at","updated_at","user_id")
                     SELECT "id","name","schedule_type","active","description","created_at","updated_at","user_id" FROM "aschedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251211220448)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20251211220308),
(20251013000012),
(20251013000011),
(20251013000010),
(20251013000009),
(20251013000008),
(20251013000007),
(20251013000006),
(20251013000005),
(20251013000004),
(20251013000003),
(20251013000002),
(20251013000001);[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-12 06:42:50.539061', '2025-12-12 06:42:50.539064') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "compartment_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "compartments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "compartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar, "time_of_day" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_day_of_week" ON "compartments" ("day_of_week")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_compartments_on_pillbox_id_and_position" ON "compartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_pillbox_id" ON "compartments" ("pillbox_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_time_of_day" ON "compartments" ("time_of_day")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "medication_logs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6), "taken" boolean DEFAULT 0, "notes" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "medications"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text, "active" boolean DEFAULT 1, "color" varchar, "shape" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_active" ON "medications" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_name" ON "medications" ("name")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id_and_name" ON "medications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id" ON "medications" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "pillboxes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer, "last_filled_at" datetime(6), "notes" text)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedules"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_active" ON "schedules" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_schedule_type" ON "schedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id_and_name" ON "schedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id" ON "schedules" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" text NOT NULL, "email" text NOT NULL, "password_digest" text NOT NULL, "active" boolean DEFAULT 1, "last_login_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_active" ON "users" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_medication_id" ON "acompartment_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_compartment_id" ON "acompartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tidx_on_compartment_id_medication_id_b736fccacb" ON "acompartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_739347db2e"
FOREIGN KEY ("compartment_id")
  REFERENCES "compartments" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "compartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "acompartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartment_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_medication_id" ON "acompartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_compartment_id" ON "acompartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tidx_on_compartment_id_medication_id_b736fccacb" ON "acompartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_739347db2e"
FOREIGN KEY ("compartment_id")
  REFERENCES "compartments" ("id")
, CONSTRAINT "fk_rails_c1d326576d"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "compartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "acompartment_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "acompartment_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar DEFAULT NULL, "time_of_day" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_time_of_day" ON "acompartments" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_pillbox_id" ON "acompartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_acompartments_on_pillbox_id_and_position" ON "acompartments" ("pillbox_id", "position")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_day_of_week" ON "acompartments" ("day_of_week")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartments" ("id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at")
                     SELECT "id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at" FROM "compartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "compartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar DEFAULT NULL, "time_of_day" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8881a5c790"
FOREIGN KEY ("pillbox_id")
  REFERENCES "pillboxes" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_day_of_week" ON "compartments" ("day_of_week")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_compartments_on_pillbox_id_and_position" ON "compartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_pillbox_id" ON "compartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_time_of_day" ON "compartments" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "compartments" ("id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at")
                     SELECT "id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at" FROM "acompartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id" ON "amedication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id_and_taken_at" ON "amedication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_taken" ON "amedication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_scheduled_for" ON "amedication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id" ON "amedication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id_and_scheduled_for" ON "amedication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "medication_logs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_67d77b7bd2"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "medication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "amedication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedication_logs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id" ON "amedication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id_and_taken_at" ON "amedication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_taken" ON "amedication_logs" ("taken")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_scheduled_for" ON "amedication_logs" ("scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id" ON "amedication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id_and_scheduled_for" ON "amedication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "medication_logs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_67d77b7bd2"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
, CONSTRAINT "fk_rails_5c0306f23a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "medication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "amedication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedication_logs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text DEFAULT NULL, "active" boolean DEFAULT 1, "color" varchar DEFAULT NULL, "shape" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_user_id" ON "amedications" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_user_id_and_name" ON "amedications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_name" ON "amedications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_active" ON "amedications" ("active")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedications" ("id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id")
                     SELECT "id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id" FROM "medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text DEFAULT NULL, "active" boolean DEFAULT 1, "color" varchar DEFAULT NULL, "shape" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_fc718069ca"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_active" ON "medications" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_name" ON "medications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id_and_name" ON "medications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id" ON "medications" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "medications" ("id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id")
                     SELECT "id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id" FROM "amedications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_week_starting" ON "apillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id" ON "apillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id_and_name" ON "apillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_schedule_id" ON "apillboxes" ("schedule_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_pillbox_type" ON "apillboxes" ("pillbox_type")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "apillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL, CONSTRAINT "fk_rails_88926a3124"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "pillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "apillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apillboxes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_week_starting" ON "apillboxes" ("week_starting")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id" ON "apillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id_and_name" ON "apillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_schedule_id" ON "apillboxes" ("schedule_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_pillbox_type" ON "apillboxes" ("pillbox_type")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "apillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL, CONSTRAINT "fk_rails_88926a3124"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
, CONSTRAINT "fk_rails_cfea36d6b8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "pillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "apillboxes"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "apillboxes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_time_of_day" ON "aschedule_medications" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id" ON "aschedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id_and_medication_id" ON "aschedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_medication_id" ON "aschedule_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3fc86c7904"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "aschedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedule_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_time_of_day" ON "aschedule_medications" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id" ON "aschedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id_and_medication_id" ON "aschedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_medication_id" ON "aschedule_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3fc86c7904"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
, CONSTRAINT "fk_rails_4a1ae80248"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "aschedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedule_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_user_id" ON "aschedules" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_user_id_and_name" ON "aschedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_schedule_type" ON "aschedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_active" ON "aschedules" ("active")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedules" ("id","name","schedule_type","active","description","created_at","updated_at","user_id")
                     SELECT "id","name","schedule_type","active","description","created_at","updated_at","user_id" FROM "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedules"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_3c900465fa"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_active" ON "schedules" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_schedule_type" ON "schedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id_and_name" ON "schedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id" ON "schedules" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schedules" ("id","name","schedule_type","active","description","created_at","updated_at","user_id")
                     SELECT "id","name","schedule_type","active","description","created_at","updated_at","user_id" FROM "aschedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM users[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartment_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM compartments[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medication_logs[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM pillboxes[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedule_medications[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM schedules[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "compartment_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "compartments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "compartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar, "time_of_day" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_day_of_week" ON "compartments" ("day_of_week")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_compartments_on_pillbox_id_and_position" ON "compartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_pillbox_id" ON "compartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_time_of_day" ON "compartments" ("time_of_day")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6), "taken" boolean DEFAULT 0, "notes" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text, "active" boolean DEFAULT 1, "color" varchar, "shape" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_active" ON "medications" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_name" ON "medications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id_and_name" ON "medications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id" ON "medications" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "pillboxes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer, "last_filled_at" datetime(6), "notes" text)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedules"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_active" ON "schedules" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_schedule_type" ON "schedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id_and_name" ON "schedules" ("user_id", "name")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id" ON "schedules" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" text NOT NULL, "email" text NOT NULL, "password_digest" text NOT NULL, "active" boolean DEFAULT 1, "last_login_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_active" ON "users" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_medication_id" ON "acompartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_compartment_id" ON "acompartment_medications" ("compartment_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tidx_on_compartment_id_medication_id_b736fccacb" ON "acompartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_739347db2e"
FOREIGN KEY ("compartment_id")
  REFERENCES "compartments" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "compartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "acompartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartment_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_medication_id" ON "acompartment_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_compartment_id" ON "acompartment_medications" ("compartment_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tidx_on_compartment_id_medication_id_b736fccacb" ON "acompartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_739347db2e"
FOREIGN KEY ("compartment_id")
  REFERENCES "compartments" ("id")
, CONSTRAINT "fk_rails_c1d326576d"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "compartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "acompartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartment_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar DEFAULT NULL, "time_of_day" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_time_of_day" ON "acompartments" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_pillbox_id" ON "acompartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_acompartments_on_pillbox_id_and_position" ON "acompartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_day_of_week" ON "acompartments" ("day_of_week")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartments" ("id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at")
                     SELECT "id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at" FROM "compartments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "compartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar DEFAULT NULL, "time_of_day" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8881a5c790"
FOREIGN KEY ("pillbox_id")
  REFERENCES "pillboxes" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_day_of_week" ON "compartments" ("day_of_week")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_compartments_on_pillbox_id_and_position" ON "compartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_pillbox_id" ON "compartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_time_of_day" ON "compartments" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "compartments" ("id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at")
                     SELECT "id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at" FROM "acompartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id" ON "amedication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id_and_taken_at" ON "amedication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_taken" ON "amedication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_scheduled_for" ON "amedication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id" ON "amedication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id_and_scheduled_for" ON "amedication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "medication_logs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_67d77b7bd2"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "medication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "amedication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedication_logs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id" ON "amedication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id_and_taken_at" ON "amedication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_taken" ON "amedication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_scheduled_for" ON "amedication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id" ON "amedication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id_and_scheduled_for" ON "amedication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_67d77b7bd2"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
, CONSTRAINT "fk_rails_5c0306f23a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "medication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "amedication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedication_logs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text DEFAULT NULL, "active" boolean DEFAULT 1, "color" varchar DEFAULT NULL, "shape" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_user_id" ON "amedications" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_user_id_and_name" ON "amedications" ("user_id", "name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_name" ON "amedications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_active" ON "amedications" ("active")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedications" ("id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id")
                     SELECT "id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id" FROM "medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text DEFAULT NULL, "active" boolean DEFAULT 1, "color" varchar DEFAULT NULL, "shape" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_fc718069ca"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_active" ON "medications" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_name" ON "medications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id_and_name" ON "medications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id" ON "medications" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "medications" ("id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id")
                     SELECT "id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id" FROM "amedications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_week_starting" ON "apillboxes" ("week_starting")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id" ON "apillboxes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id_and_name" ON "apillboxes" ("user_id", "name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_schedule_id" ON "apillboxes" ("schedule_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_pillbox_type" ON "apillboxes" ("pillbox_type")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "apillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL, CONSTRAINT "fk_rails_88926a3124"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "pillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "apillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apillboxes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_week_starting" ON "apillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id" ON "apillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id_and_name" ON "apillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_schedule_id" ON "apillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_pillbox_type" ON "apillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "apillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pillboxes"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL, CONSTRAINT "fk_rails_88926a3124"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
, CONSTRAINT "fk_rails_cfea36d6b8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "pillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "apillboxes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "apillboxes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_time_of_day" ON "aschedule_medications" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id" ON "aschedule_medications" ("schedule_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id_and_medication_id" ON "aschedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_medication_id" ON "aschedule_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3fc86c7904"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "aschedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedule_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_time_of_day" ON "aschedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id" ON "aschedule_medications" ("schedule_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id_and_medication_id" ON "aschedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_medication_id" ON "aschedule_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3fc86c7904"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
, CONSTRAINT "fk_rails_4a1ae80248"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "aschedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedule_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_user_id" ON "aschedules" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_user_id_and_name" ON "aschedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_schedule_type" ON "aschedules" ("schedule_type")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_active" ON "aschedules" ("active")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedules" ("id","name","schedule_type","active","description","created_at","updated_at","user_id")
                     SELECT "id","name","schedule_type","active","description","created_at","updated_at","user_id" FROM "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_3c900465fa"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_active" ON "schedules" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_schedule_type" ON "schedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id_and_name" ON "schedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id" ON "schedules" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedules" ("id","name","schedule_type","active","description","created_at","updated_at","user_id")
                     SELECT "id","name","schedule_type","active","description","created_at","updated_at","user_id" FROM "aschedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "compartment_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "compartments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "compartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar, "time_of_day" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_day_of_week" ON "compartments" ("day_of_week")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_compartments_on_pillbox_id_and_position" ON "compartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_pillbox_id" ON "compartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_time_of_day" ON "compartments" ("time_of_day")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "medication_logs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6), "taken" boolean DEFAULT 0, "notes" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text, "active" boolean DEFAULT 1, "color" varchar, "shape" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_active" ON "medications" ("active")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_medications_on_name" ON "medications" ("name")[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id_and_name" ON "medications" ("user_id", "name")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id" ON "medications" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "pillboxes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer, "last_filled_at" datetime(6), "notes" text)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_active" ON "schedules" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_schedule_type" ON "schedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id_and_name" ON "schedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id" ON "schedules" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" text NOT NULL, "email" text NOT NULL, "password_digest" text NOT NULL, "active" boolean DEFAULT 1, "last_login_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_active" ON "users" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_medication_id" ON "acompartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_compartment_id" ON "acompartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tidx_on_compartment_id_medication_id_b736fccacb" ON "acompartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "compartment_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_739347db2e"
FOREIGN KEY ("compartment_id")
  REFERENCES "compartments" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "compartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "acompartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartment_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_medication_id" ON "acompartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_compartment_id" ON "acompartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tidx_on_compartment_id_medication_id_b736fccacb" ON "acompartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "acompartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_739347db2e"
FOREIGN KEY ("compartment_id")
  REFERENCES "compartments" ("id")
, CONSTRAINT "fk_rails_c1d326576d"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "compartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "acompartment_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "acompartment_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar DEFAULT NULL, "time_of_day" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_time_of_day" ON "acompartments" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_pillbox_id" ON "acompartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_acompartments_on_pillbox_id_and_position" ON "acompartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_day_of_week" ON "acompartments" ("day_of_week")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartments" ("id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at")
                     SELECT "id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at" FROM "compartments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "compartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar DEFAULT NULL, "time_of_day" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8881a5c790"
FOREIGN KEY ("pillbox_id")
  REFERENCES "pillboxes" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_day_of_week" ON "compartments" ("day_of_week")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_compartments_on_pillbox_id_and_position" ON "compartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_pillbox_id" ON "compartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_time_of_day" ON "compartments" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "compartments" ("id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at")
                     SELECT "id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at" FROM "acompartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id" ON "amedication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id_and_taken_at" ON "amedication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_taken" ON "amedication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_scheduled_for" ON "amedication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id" ON "amedication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id_and_scheduled_for" ON "amedication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amedication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "medication_logs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_67d77b7bd2"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "medication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "amedication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedication_logs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id" ON "amedication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id_and_taken_at" ON "amedication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_taken" ON "amedication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_scheduled_for" ON "amedication_logs" ("scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id" ON "amedication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id_and_scheduled_for" ON "amedication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "medication_logs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_67d77b7bd2"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
, CONSTRAINT "fk_rails_5c0306f23a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "medication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "amedication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedication_logs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text DEFAULT NULL, "active" boolean DEFAULT 1, "color" varchar DEFAULT NULL, "shape" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_user_id" ON "amedications" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_user_id_and_name" ON "amedications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_name" ON "amedications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_active" ON "amedications" ("active")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedications" ("id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id")
                     SELECT "id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id" FROM "medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text DEFAULT NULL, "active" boolean DEFAULT 1, "color" varchar DEFAULT NULL, "shape" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_fc718069ca"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_active" ON "medications" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_name" ON "medications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id_and_name" ON "medications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id" ON "medications" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "medications" ("id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id")
                     SELECT "id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id" FROM "amedications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_week_starting" ON "apillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id" ON "apillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id_and_name" ON "apillboxes" ("user_id", "name")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_schedule_id" ON "apillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_pillbox_type" ON "apillboxes" ("pillbox_type")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "apillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL, CONSTRAINT "fk_rails_88926a3124"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "pillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "apillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apillboxes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_week_starting" ON "apillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id" ON "apillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id_and_name" ON "apillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_schedule_id" ON "apillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_pillbox_type" ON "apillboxes" ("pillbox_type")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "apillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL, CONSTRAINT "fk_rails_88926a3124"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
, CONSTRAINT "fk_rails_cfea36d6b8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "pillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "apillboxes"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "apillboxes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_time_of_day" ON "aschedule_medications" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id" ON "aschedule_medications" ("schedule_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id_and_medication_id" ON "aschedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_medication_id" ON "aschedule_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3fc86c7904"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "aschedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedule_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_time_of_day" ON "aschedule_medications" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id" ON "aschedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id_and_medication_id" ON "aschedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_medication_id" ON "aschedule_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3fc86c7904"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
, CONSTRAINT "fk_rails_4a1ae80248"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "aschedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedule_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_user_id" ON "aschedules" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_user_id_and_name" ON "aschedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_schedule_type" ON "aschedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_active" ON "aschedules" ("active")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedules" ("id","name","schedule_type","active","description","created_at","updated_at","user_id")
                     SELECT "id","name","schedule_type","active","description","created_at","updated_at","user_id" FROM "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_3c900465fa"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_active" ON "schedules" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_schedule_type" ON "schedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id_and_name" ON "schedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id" ON "schedules" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schedules" ("id","name","schedule_type","active","description","created_at","updated_at","user_id")
                     SELECT "id","name","schedule_type","active","description","created_at","updated_at","user_id" FROM "aschedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "compartment_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "compartments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "compartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar, "time_of_day" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_day_of_week" ON "compartments" ("day_of_week")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_compartments_on_pillbox_id_and_position" ON "compartments" ("pillbox_id", "position")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_pillbox_id" ON "compartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_time_of_day" ON "compartments" ("time_of_day")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6), "taken" boolean DEFAULT 0, "notes" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text, "active" boolean DEFAULT 1, "color" varchar, "shape" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_active" ON "medications" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_name" ON "medications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id_and_name" ON "medications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id" ON "medications" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "pillboxes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer, "last_filled_at" datetime(6), "notes" text)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedule_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_active" ON "schedules" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_schedule_type" ON "schedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id_and_name" ON "schedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id" ON "schedules" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" text NOT NULL, "email" text NOT NULL, "password_digest" text NOT NULL, "active" boolean DEFAULT 1, "last_login_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_active" ON "users" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_medication_id" ON "acompartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_compartment_id" ON "acompartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tidx_on_compartment_id_medication_id_b736fccacb" ON "acompartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "acompartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "compartment_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "compartment_medications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_739347db2e"
FOREIGN KEY ("compartment_id")
  REFERENCES "compartments" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "compartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "acompartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartment_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_medication_id" ON "acompartment_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartment_medications_on_compartment_id" ON "acompartment_medications" ("compartment_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tidx_on_compartment_id_medication_id_b736fccacb" ON "acompartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "compartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartment_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "compartment_id" integer NOT NULL, "medication_id" integer NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_739347db2e"
FOREIGN KEY ("compartment_id")
  REFERENCES "compartments" ("id")
, CONSTRAINT "fk_rails_c1d326576d"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "idx_on_compartment_id_medication_id_b736fccacb" ON "compartment_medications" ("compartment_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_compartment_id" ON "compartment_medications" ("compartment_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartment_medications_on_medication_id" ON "compartment_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "compartment_medications" ("id","compartment_id","medication_id","quantity","created_at","updated_at")
                     SELECT "id","compartment_id","medication_id","quantity","created_at","updated_at" FROM "acompartment_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartment_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acompartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar DEFAULT NULL, "time_of_day" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_time_of_day" ON "acompartments" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_pillbox_id" ON "acompartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_acompartments_on_pillbox_id_and_position" ON "acompartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acompartments_on_day_of_week" ON "acompartments" ("day_of_week")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acompartments" ("id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at")
                     SELECT "id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at" FROM "compartments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "compartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "compartments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pillbox_id" integer NOT NULL, "name" varchar NOT NULL, "position" integer NOT NULL, "day_of_week" varchar DEFAULT NULL, "time_of_day" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8881a5c790"
FOREIGN KEY ("pillbox_id")
  REFERENCES "pillboxes" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_day_of_week" ON "compartments" ("day_of_week")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_compartments_on_pillbox_id_and_position" ON "compartments" ("pillbox_id", "position")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_pillbox_id" ON "compartments" ("pillbox_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_compartments_on_time_of_day" ON "compartments" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "compartments" ("id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at")
                     SELECT "id","pillbox_id","name","position","day_of_week","time_of_day","created_at","updated_at" FROM "acompartments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acompartments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id" ON "amedication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id_and_taken_at" ON "amedication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_taken" ON "amedication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_scheduled_for" ON "amedication_logs" ("scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id" ON "amedication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id_and_scheduled_for" ON "amedication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "medication_logs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_67d77b7bd2"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "medication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "amedication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedication_logs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id" ON "amedication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_user_id_and_taken_at" ON "amedication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_taken" ON "amedication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_scheduled_for" ON "amedication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id" ON "amedication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedication_logs_on_medication_id_and_scheduled_for" ON "amedication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amedication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "medication_logs"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "medication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medication_logs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "medication_id" integer NOT NULL, "scheduled_for" datetime(6) NOT NULL, "taken_at" datetime(6) DEFAULT NULL, "taken" boolean DEFAULT 0, "notes" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_67d77b7bd2"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
, CONSTRAINT "fk_rails_5c0306f23a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id_and_scheduled_for" ON "medication_logs" ("medication_id", "scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_medication_id" ON "medication_logs" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_scheduled_for" ON "medication_logs" ("scheduled_for")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_taken" ON "medication_logs" ("taken")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id_and_taken_at" ON "medication_logs" ("user_id", "taken_at")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medication_logs_on_user_id" ON "medication_logs" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "medication_logs" ("id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id")
                     SELECT "id","medication_id","scheduled_for","taken_at","taken","notes","created_at","updated_at","user_id" FROM "amedication_logs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedication_logs"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amedications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text DEFAULT NULL, "active" boolean DEFAULT 1, "color" varchar DEFAULT NULL, "shape" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_user_id" ON "amedications" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_user_id_and_name" ON "amedications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_name" ON "amedications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amedications_on_active" ON "amedications" ("active")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "amedications" ("id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id")
                     SELECT "id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id" FROM "medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "dosage" varchar NOT NULL, "frequency" varchar NOT NULL, "instructions" text DEFAULT NULL, "active" boolean DEFAULT 1, "color" varchar DEFAULT NULL, "shape" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_fc718069ca"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_active" ON "medications" ("active")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_medications_on_name" ON "medications" ("name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id_and_name" ON "medications" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_medications_on_user_id" ON "medications" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "medications" ("id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id")
                     SELECT "id","name","dosage","frequency","instructions","active","color","shape","created_at","updated_at","user_id" FROM "amedications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amedications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_week_starting" ON "apillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id" ON "apillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id_and_name" ON "apillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_schedule_id" ON "apillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_pillbox_type" ON "apillboxes" ("pillbox_type")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "apillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL, CONSTRAINT "fk_rails_88926a3124"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "pillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "apillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apillboxes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_week_starting" ON "apillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id" ON "apillboxes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_user_id_and_name" ON "apillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_schedule_id" ON "apillboxes" ("schedule_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_apillboxes_on_pillbox_type" ON "apillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "apillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "pillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "pillboxes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "pillboxes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer DEFAULT NULL, "name" varchar NOT NULL, "pillbox_type" varchar NOT NULL, "week_starting" date DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "last_filled_at" datetime(6) DEFAULT NULL, "notes" text DEFAULT NULL, CONSTRAINT "fk_rails_88926a3124"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
, CONSTRAINT "fk_rails_cfea36d6b8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_pillbox_type" ON "pillboxes" ("pillbox_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_schedule_id" ON "pillboxes" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id_and_name" ON "pillboxes" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_user_id" ON "pillboxes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_pillboxes_on_week_starting" ON "pillboxes" ("week_starting")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "pillboxes" ("id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes")
                     SELECT "id","schedule_id","name","pillbox_type","week_starting","created_at","updated_at","user_id","last_filled_at","notes" FROM "apillboxes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "apillboxes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_time_of_day" ON "aschedule_medications" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id" ON "aschedule_medications" ("schedule_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id_and_medication_id" ON "aschedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_medication_id" ON "aschedule_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3fc86c7904"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "aschedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedule_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_time_of_day" ON "aschedule_medications" ("time_of_day")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id" ON "aschedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_schedule_id_and_medication_id" ON "aschedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aschedule_medications_on_medication_id" ON "aschedule_medications" ("medication_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedule_medications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "schedule_id" integer NOT NULL, "medication_id" integer NOT NULL, "time_of_day" varchar NOT NULL, "quantity" integer DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3fc86c7904"
FOREIGN KEY ("medication_id")
  REFERENCES "medications" ("id")
, CONSTRAINT "fk_rails_4a1ae80248"
FOREIGN KEY ("schedule_id")
  REFERENCES "schedules" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_medication_id" ON "schedule_medications" ("medication_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id_and_medication_id" ON "schedule_medications" ("schedule_id", "medication_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_schedule_id" ON "schedule_medications" ("schedule_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedule_medications_on_time_of_day" ON "schedule_medications" ("time_of_day")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedule_medications" ("id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at")
                     SELECT "id","schedule_id","medication_id","time_of_day","quantity","created_at","updated_at" FROM "aschedule_medications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedule_medications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aschedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_user_id" ON "aschedules" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_user_id_and_name" ON "aschedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_schedule_type" ON "aschedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aschedules_on_active" ON "aschedules" ("active")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aschedules" ("id","name","schedule_type","active","description","created_at","updated_at","user_id")
                     SELECT "id","name","schedule_type","active","description","created_at","updated_at","user_id" FROM "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "schedule_type" varchar NOT NULL, "active" boolean DEFAULT 1, "description" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_3c900465fa"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_active" ON "schedules" ("active")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_schedule_type" ON "schedules" ("schedule_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id_and_name" ON "schedules" ("user_id", "name")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_schedules_on_user_id" ON "schedules" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schedules" ("id","name","schedule_type","active","description","created_at","updated_at","user_id")
                     SELECT "id","name","schedule_type","active","description","created_at","updated_at","user_id" FROM "aschedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aschedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
